@model IEnumerable<DevStudy.FrontEnd.DevStudyFrontEnd.Core.Models.InstrutorViewModel>

@{
   ViewData["Title"] = "Controle de Professores";
}

<h2>@ViewData["Title"]</h2>

<p>
   Painel Administrativo de Gerenciamento dos Instrutores da Academia
</p>

<p>
   <a asp-controller="Instrutor" asp-action="CreateInstrutor" class="btn btn-primary">Registrar Novo Instrutor</a>
</p>

@if (Model != null && Model.Any())
{
    <table class="table">
       <thead>
           <tr>
               <th>
                   @Html.DisplayNameFor(model => model.Id)
               </th>
               <th>
                   @Html.DisplayNameFor(model => model.Nome)
               </th>
               <th>
                   @Html.DisplayNameFor(model => model.Especialidade)
               </th>
               <th>
                   @Html.DisplayNameFor(model => model.Email)
               </th>
               <th>
                   @Html.DisplayNameFor(model => model.Telefone)
               </th>
               <th>
                   Alunos
               </th> 
               <th></th>
           </tr>
       </thead>
       <tbody>
           @foreach (var item in Model)
           {
               <tr>
                   <td>
                       @Html.DisplayFor(modelItem => item.Id)
                   </td>
                   <td>
                       @Html.DisplayFor(modelItem => item.Nome)
                   </td>
                   <td>
                       @Html.DisplayFor(modelItem => item.Especialidade)
                   </td>
                   <td>
                       @Html.DisplayFor(modelItem => item.Email)
                   </td>
                   <td>
                       @Html.DisplayFor(modelItem => item.Telefone)
                   </td>
                   <td>
                       @if (item.Alunos != null && item.Alunos.Any())
                       {
                           <ul>
                               @foreach (var aluno in item.Alunos)
                               {
                                   <li>
                                       <strong>Id:</strong> @aluno.Id <br />
                                       <strong>Nome:</strong> @aluno.Nome <br />
                                       <strong>Email:</strong> @aluno.Email <br /> 
                                   </li>
                                   <hr />
                               }
                           </ul>
                       }
                   </td> 
                   <td class="botoes">
                       <a asp-controller="Instrutor" asp-action="UpdateInstrutor" asp-route-id="@item.Id" class="btn btn-primary">
                           <i class="fas fa-edit"></i> Editar
                       </a>
                        <a asp-controller="Instrutor" asp-action="DeleteInstrutor" asp-route-id="@item.Id" class="btn btn-danger">
                           <i class="fas fa-trash-alt"></i> Excluir
                       </a>
                   </td>
               </tr>
           }
       </tbody>
    </table>
}
else
{
    <div class="alert alert-info">
        Nenhum instrutor encontrado.
    </div>
}